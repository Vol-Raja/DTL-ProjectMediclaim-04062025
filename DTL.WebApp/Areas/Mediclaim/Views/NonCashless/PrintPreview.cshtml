@using DTL.Model.Models.Mediclaim
@model NonCashlessModel
@{
    ViewData["Title"] = "NonCashless View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .top_print_btn {
        position: absolute;
        right: 20px;
        top: 30px;
    }

    .view_container_bg {
        background: rgb(0 43 255 / 4%);
    }

    .view_table tr td {
        color: #005ccf;
    }
</style>

<div class="container-fluid view_form">
    <input type="hidden" id="hdnAproveAmount" value="@Model.ApprovedAmountInDecimal" />
    <div class="row header_section mx-0 px-0">
        <div class="col-6 position-relative ps-0">
            <span class="btn btn-light float-start mt-1 me-2 d-block d-md-none" id="menu_toggle">
                <i class="fa-solid fa-bars"></i>
            </span>
            <h3 class="mb-0">Non Cashless mediclaim </h3>
        </div>
        <p class="mb-0 col-6 top_link_Section">
            <a href="@Url.Action("Index","OPD",new {Area="Mediclaim" })">Dashboard</a><span class="px-1">/</span><a href="@Url.Action("Index","NonCashless",new {Area="Mediclaim" })">
                Non-Cashless Claims
            </a><span class="px-1">/</span><span> View</span>

        </p>
    </div>
    <div class="card border-card mt-0 view_container_bg">
        <div class="card-body">
            <div class="row">
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Employee number</label>
                    <p class="View_text">@Model.EmployeeNumber</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">PPO number</label>
                    <p class="View_text">@Model.PPONumber</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Medical Section Page Number </label>
                    <p class="View_text">@Model.MedicalSectionPageNumber</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Name of Pensioner </label>
                    <p class="View_text">@Model.MedicalCardHolderName</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Medical Card number</label>
                    <p class="View_text">@Model.MedicalCardNo</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 mb-3view_text_border">
                    <label class="form-label d-block mb-1">Gender</label>
                    <p class="View_text">@Model.Gender</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-6 col-xl-6 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Organization</label>
                    <p class="View_text">@Model.Organization</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Designation</label>
                    <p class="View_text">@Model.Designation</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Date Of Birth</label>
                    <p class="View_text">@Model.DateOfBirth.ToString("dd-MM-yyy")</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                    <label class="form-label d-block mb-1">Age</label>
                    <p class="View_text">@Model.Age</p>
                </div>

                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Mobile Number</label>
                    <p class="View_text">@Model.MobileNumber</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Email Id</label>
                    <p class="View_text">@Model.EmailId</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Card Category</label>
                    <p class="View_text">@Model.CardCategory</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Patient Name</label>
                    <p class="View_text">@Model.PatientName</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Dependent/Self</label>
                    <p class="View_text">@Model.ClaimFor</p>
                </div>
                <div class="col-sm-6 col-md-12 col-lg-12 col-xl-12 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Address</label>
                    <p class="View_text">@Model.Address</p>
                </div>

            </div>
        </div>
    </div>
    @if (Model.ClaimFor.ToLower() == "dependent" && Model.Dependent != null)
    {
<div class="card border-card  border-top-0 mt-4 view_container_bg">
    <div class="card-body">
        <h4 class="form_title mt-3 ">
            Dependent Information
        </h4>
        <div class="row ">

            <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                <label class="form-label d-block mb-1"> Name</label>
                <p class="View_text">@Model.Dependent.Name</p>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                <label class="form-label d-block mb-1">Date Of Birth</label>
                <p class="View_text">@Model.Dependent.DateOfBirth.ToString("dd-MM-yyyy")</p>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                <label class="form-label d-block mb-1">Age</label>
                <p class="View_text">@Model.Dependent.Age</p>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                <label class="form-label d-block mb-1"> relationship with retiree</label>
                <p class="View_text">@Model.Dependent.RelationWithRetire</p>
            </div>
        </div>
    </div>
</div>}

    <div class="card border-card  border-top-0 mt-4 view_container_bg">
        <div class="card-body">
            <h4 class="form_title mt-3 ">
                Detail of Hospitalization
            </h4>
            @if (Model.ClaimType.ToLower() == "opd")
            {
        <div class="row mb-3">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-12 view_text_border">
                <label class="form-label d-block mb-1">Type of claim</label>
                <p class="View_text">OPD</p>
            </div>
        </div>      }
            @if (Model.ClaimType.ToLower() == "cancer")
            {
        <div class="row mb-3">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-12 view_text_border">
                <label class="form-label d-block mb-1">Type of claim</label>
                <p class="View_text">Cancer</p>
            </div>
        </div>      }
            @if (Model.ClaimType.ToLower() == "dialysis")
            {
        <div class="row mb-3">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-12 view_text_border">
                <label class="form-label d-block mb-1">Type of claim</label>
                <p class="View_text">Dialysis</p>
            </div>
        </div>      }
            @if (Model.ClaimType.ToLower() == "dispensary")
            {
        <div class="row mb-3">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-12 view_text_border">
                <label class="form-label d-block mb-1">Type of claim</label>
                <p class="View_text">Dispensary</p>
            </div>
        </div>      }
            <div class="row ">
                <div class="col-sm-12 mt-4">
                    <table id="tblCND" class="table table-bordered">
                        <thead>
                            <tr>

                                <th>Date</th>
                                <th>Name of Hospital</th>
                                <th>Medicine Amt</th>
                                <th>Consultation Amt</th>
                                <th>Investigation Amt</th>
                                <th>Other Expenses Amt</th>
                                <th class="text-right">Total Amount</th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.OPDCNDList)
                            {
                                <tr>


                                    <td>@item.OPDCNDDate.ToString("dd-MM-yyyy")</td>
                                    <td>@item.HospitalName</td>
                                    <td class="text-right">@Math.Round(item.InvestigationAmount, 2)<span class="text-danger req_text">₹ </span> </td>
                                    <td class="text-right">@Math.Round(item.InvestigationAmount, 2)<span class="text-danger req_text">₹ </span></td>
                                    <td class="text-right">@Math.Round(item.ConsultationAmount, 2)<span class="text-danger req_text">₹ </span></td>
                                    <td class="text-right">@Math.Round(item.OtherAmount, 2)<span class="text-danger req_text">₹ </span></td>
                                    <td class="text-right">@Math.Round(item.TotalAmount, 2)<span class="text-danger req_text">₹ </span></td>


                                </tr>
                            }
                        </tbody>



                    </table>
                </div>
            </div>
            @*<div class="row ">
                    @foreach (var item in Model.OPDCNDList)
                    {
        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
            <label class="form-label d-block mb-1">Date</label>
            <p class="View_text">@item.OPDCNDDate.ToString("dd-MM-yyyy")</p>
        </div>
                        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                            <label class="form-label d-block mb-1">Name of Hospital</label>
                            <p class="View_text">@item.HospitalName</p>
                        </div>
                                        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                                            <label class="form-label d-block mb-1">
                                                Medicine<span class="text-danger req_text">&#8377;</span>
                                            </label>
                                            <p class="View_text">@Math.Round(item.MedicineAmount, 2) </p>
                                        </div>
                                                        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                                                            <label class="form-label d-block mb-1">
                                                                Investigation Amount<span class="text-danger req_text">&#8377;</span>
                                                            </label>
                                                            <p class="View_text">@Math.Round(item.InvestigationAmount, 2) </p>
                                                        </div>
                                                                        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                                                                            <label class="form-label d-block mb-1">
                                                                                Consultation Amount<span class="text-danger req_text">&#8377;</span>
                                                                            </label>
                                                                            <p class="View_text">@Math.Round(item.ConsultationAmount, 2) </p>
                                                                        </div>
                                                                                        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                                                                                            <label class="form-label d-block mb-1">
                                                                                                Other Expenses Amount<span class="text-danger req_text">&#8377;</span>
                                                                                            </label>
                                                                                            <p class="View_text">@Math.Round(item.OtherAmount, 2) </p>
                                                                                        </div>
                                                                                                        <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3view_text_border">
                                                                                                            <label class="form-label d-block mb-1">
                                                                                                                Total Amount<span class="text-danger req_text">&#8377;</span>
                                                                                                            </label>
                                                                                                            <p class="View_text">@Math.Round(item.TotalAmount, 2) </p>
                                                                                                        </div>}
                </div>*@
        </div>
    </div>

    <div class="card border-card border-top-0 mt-4 view_container_bg">

        <div class="card-body">
            <h4 class="form_title mt-3 shadow-2-strong">
                Claim Document Upload
            </h4>
            <div class="row">

                <div class="col-sm-12">
                    <table id="example1" class="table table-bordered view_table">
                        <thead>
                            <tr>
                                <th width="7%" class="text-center">Sr. No.</th>
                                <th>Document Type</th>
                                <th width="15%" class="text-center">Attach file </th>

                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.Documents.Count() > 0)
                            {

                                var _index = 1;
                @foreach (var item in Model.Documents)
                {
<tr>
    <td>
        @_index
    </td>
    <td>
        @item.DocumentFor
    </td>
    <td>
        <a href="/@item.DocumentPath" class="pdfIcons" target="_blank">
            <i class="fa fa-file-pdf" aria-hidden="true"></i>
        </a>
    </td>
</tr>_index = _index + 1;
                }}
                        </tbody>
                    </table>

                </div>
            </div>



        </div>
    </div>
    <div class="card border-card  border-top-0 mt-4 view_container_bg">
        <div class="card-body">
            <h4 class="form_title mt-3 ">
                Bank Details
            </h4>
            <div class="row ">
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Account Holder Name</label>
                    <p class="View_text">@Model.AccountHolderName</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Account Number</label>
                    <p class="View_text">@Model.AccountNumber</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Bank Name</label>
                    <p class="View_text">@Model.BankName</p>
                </div>

                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">Branch Name</label>
                    <p class="View_text">@Model.BranchName</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">BIC Code</label>
                    <p class="View_text">@Model.BICCode</p>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3 mb-3 view_text_border">
                    <label class="form-label d-block mb-1">IFSC code </label>
                    <p class="View_text">@Model.IFSCNumber</p>
                </div>

            </div>
        </div>
    </div>
    <div class="row mb-3 submit_area submit_area_strip mt-5 mx-0">

        <div class="col-sm-12">
            <button class="btn btn-primary" id="printMe">
                <i class="fa fa-print mr-2"
                   aria-hidden="true"></i>Print Application
            </button>
        </div>
    </div>

</div>
<div id="print_preview">
    <div class=" view_container_bg mt-0">
        <div class="card-body">
            <h4 class="print_title">
                Non Cashless Mediclaim
            </h4>
            <table class="table table-bordered w-100">
                <tbody>
                    <tr>
                        <th scope="row">Employee No.</th>
                        <td scope="row">@Model.EmployeeNumber</td>
                        <th scope="row">PPO Number</th>
                        <td scope="row">@Model.PPONumber</td>

                    </tr>
                    <tr>
                        <th scope="row">Page No.</th>
                        <td scope="row">@Model.MedicalSectionPageNumber</td>
                        <th scope="row">Name Of Pensioner</th>
                        <td scope="row">@Model.MedicalCardHolderName</td>


                    </tr>
                    <tr>
                        <th scope="row">Medical Card Number</th>
                        <td scope="row">@Model.MedicalCardNo</td>
                        <th scope="row">Gender</th>
                        <td scope="row">@Model.Gender</td>
                    </tr>
                    <tr>
                        <th scope="row">Organization</th>
                        <td scope="row">@Model.Organization</td>
                        <th scope="row">Designation</th>
                        <td scope="row">@Model.Designation</td>
                    </tr>
                    <tr>
                        <th scope="row">Date Of Birth</th>
                        <td scope="row">@Model.DateOfBirth.ToString("dd-MM-yyyy")</td>
                        <th scope="row">Age</th>
                        <td scope="row">@Model.Age</td>
                    </tr>
                    <tr>
                        <th scope="row">Address</th>
                        <td scope="row" colspan="3">@Model.Address</td>
                       
                    </tr>
                    <tr>
                        <th scope="row">Mobile Number</th>
                        <td scope="row">@Model.MobileNumber</td>
                        <th scope="row">Email Id</th>
                        <td scope="row">@Model.EmailId</td>
                       
                    </tr>
                    <tr>
                        <th scope="row">Dependent/Self</th>
                        <td scope="row">@Model.ClaimFor</td>
                    </tr>
                    @if (Model.ClaimFor.ToLower() == "dependent" && Model.Dependent != null)
                    {
                <tr>
                    <td scope="row" colspan="4" class="text-center h4">Dependent Information</td>
                </tr>
                                <tr>

                                    <th scope="row">Name</th>
                                    <td scope="row">@Model.Dependent.Name</td>
                                    <th scope="row">Date Of Birth</th>
                                    <td scope="row">@Model.Dependent.DateOfBirth.ToString("dd-MM-yyyy")</td>
                                </tr>
                                                <tr>

                                                    <th scope="row">Age</th>
                                                    <td scope="row">@Model.Dependent.Age</td>
                                                    <th scope="row"> Relationship With Retiree</th>
                                                    <td scope="row">
                                                        @if (Model.ClaimFor.ToLower() == "dependent" && Model.Dependent != null)
                                                        {@Model.Dependent.RelationWithRetire }
                                                    else
                                                    {@Model.ClaimFor}
                                                    </td>
                                                </tr>}

                    <tr>
                        <td scope="row" colspan="4" class="text-center h4">Detail of Hospitalization</td>
                    </tr>
                    @foreach (var item in Model.OPDCNDList)
                    {
                <tr>
                    <th scope="row">Claim Type</th>
                    <td scope="row">@Model.ClaimType</td>
                    <th scope="row">Date</th>
                    <td scope="row">@item.OPDCNDDate.ToString("dd/MM/yyyy")</td>
                </tr>
                                <tr>
                                    <th scope="row">Name of Hospital</th>
                                    <td scope="row">@item.HospitalName</td>
                                    <th scope="row">Medicine <span class="text-danger req_text">&#8377;</span></th>
                                    <td scope="row">@item.MedicineAmount</td>
                                </tr>
                                                <tr>
                                                    <th scope="row">Investigation Amount <span class="text-danger req_text">&#8377;</span></th>
                                                    <td scope="row">@item.InvestigationAmount</td>
                                                    <th scope="row">Consultation <span class="text-danger req_text">&#8377;</span></th>
                                                    <td scope="row">@item.ConsultationAmount</td>
                                                </tr>
                                                                <tr>

                                                                    <th scope="row">Other Expenses Amount <span class="text-danger req_text">&#8377;</span></th>
                                                                    <td scope="row">@Math.Round(item.OtherAmount, 2)</td>
                                                                    <th scope="row">Total Amount <span class="text-danger req_text">&#8377;</span></th>
                                                                    <td scope="row">@Math.Round(item.TotalAmount, 2)</td>
                                                                </tr>}
                    <tr>
                        <th scope="row" colspan="4" class="text-center h4">Claim Document Upload</th>
                    </tr>
                    <tr>
                        <th class="text-center">Sr. No.</th>
                        <th colspan="3">Document Type</th>

                    </tr>
                    @if (Model.Documents.Count() > 0)
                    {
                        var _index = 1;
                @foreach (var item in Model.Documents)
                {
                <tr>
                    <td class="text-center">@_index</td>
                    <td colspan="3">

                        <a href="#" class="pdfIcons" target='_blank'>
                            <i class="fa fa-file-pdf" aria-hidden="true"></i>
                            @item.DocumentFor
                        </a>
                    </td>
                </tr>_index = _index + 1;
                                } }
                            else
                            {
                <tr>
                    <td class="text-center" colspan="4">No Document Found</td>
                </tr>}
                    <tr>
                        <td scope="row" colspan="4" class="text-center h4">Bank Detail</td>
                    </tr>
                    <tr>
                        <th scope="row">Account Holder Name</th>
                        <td scope="row">@Model.AccountHolderName</td>
                        <th scope="row">Account number</th>
                        <td scope="row">@Model.AccountNumber</td>
                    </tr>
                    <tr>
                        <th scope="row">Bank Name</th>
                        <td scope="row">@Model.BankName</td>

                        <th scope="row">Branch Name</th>
                        <td scope="row">@Model.BranchName</td>
                    </tr>
                    <tr>
                        <th scope="row">BIC Code</th>
                        <td scope="row">@Model.BICCode</td>
                        <th scope="row">IFSC Number</th>
                        <td scope="row">@Model.IFSCNumber</td>

                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    $('#printMe').click(function () {
        $('#print_preview').addClass('show');
        window.print();

    });
</script>
<script src="~/js/numbertoword.js"></script>
<script>
    $(document).ready(function () {
        var numberToWord = new NumberToWord();
        $('#lblAmountInWords').text(numberToWord.ToWord($('#hdnAproveAmount').val()))
    });
</script>
