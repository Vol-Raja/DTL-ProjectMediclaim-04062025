@using DTL.Model.Models
@model RolePageModel
@{
    var tempPages = Model.PageName?.Split(",").ToList();
}
<input type="hidden" id="isUpdate" value="@ViewBag.IsUpdate"/>
<div class="card-body">
    <input type="hidden" name="id" id="id" value="@Model.Id" />
    <div class="form-group">
        <label for="name">Role Name</label>
        <select id="RoleName" name="roleName" class="form-control" >
            <option value="">Select Role</option>
            @foreach (var role in ViewBag.Roles)
            {
                if (Model.RoleName != null)
                {
                    if (role == Model.RoleName)
                    {
                        <option value="@role" selected>@role</option>
                    }
                    else
                    {
                        <option value="@role">@role</option>
                    }
                }

                else
                {
                    <option value="@role">@role</option>
                }
            }
        </select>
    </div>
    <div class="form-group">
        <label for="pageName">Page Name</label>
        @*<input type="text" name="pageName" class="form-control" id="pageName" placeholder="Page Name" value="@Model.PageName">*@
        <ul class="list-group list-group-flush">
            @foreach (var pageData in ViewBag.Pages)
            {
            <li class="list-group-item">
                @if (tempPages != null)
                {
                    @if (tempPages.Contains(pageData))
                    {
                        <input type="checkbox" id="page" name="page" value="@pageData" class="checkbox" checked />
                    }
                    else
                    {
                        <input type="checkbox" id="page" name="page" value="@pageData" class="checkbox" />
                    }
                }
                else
                {
                    <input type="checkbox" id="page" name="page" value="@pageData" class="checkbox" />
                }
                <label class="form-check-label" for="flexCheckDefault">
                    @pageData
                </label>
            </li>
            }
        </ul>
    </div>
</div>
