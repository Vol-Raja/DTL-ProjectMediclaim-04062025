@using DTL.Model.Models.CMS;

@{
    ViewData["Title"] = "News";

}
@model IEnumerable<WhatsNewModel>;

<section id="header_section">
    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <h1>Latest News</h1>
                <p><a href="@Url.Action("","home")">Home</a> / <span>Latest News</span></p>
            </div>
        </div>
    </div>
</section>

<section id="main_page">
    <div class="container mb-5">
        <div class="row">
            <div class="col-md-12">
                <div class="sidebar">

                    <div class="tab">
                        <a class="tablinks active" href="#">Latest News</a>
                        <a class="tablinks" href="@Url.Action("","notice")">Public Notice</a>
                        <a class="tablinks" href="@Url.Action("","link")">Important links</a>
                        <a class="tablinks" href="@Url.Action("","BannerImage")">Gallery</a>
                        <a class="tablinks" href="@Url.Action("" , "event")">Events</a>
                    </div>
                </div>
            </div>
            <div class="col-md-12 shadow">
                <div class="main_content">
                    <div class="tabcontent hospital_list">
                        <div class="WhatNew row" id="">
                            @if (Model.Count() > 0)
                            {
                                int counter = 0;
                                @foreach (var item in Model)
                                {
                                    counter++;
                                    string imgSrc = "~/assets/images/1.jpg";
                                    if (item.Image != null)
                                    {
                                        var base64 = Convert.ToBase64String(item.Image);
                                        imgSrc = String.Format("data:{0};base64,{1}", item.ImageContentType, base64);
                                    }
                                    <div class="  col-sm-12 ">
                                        <div class="media WhatNewMedia">
                                            <img class="align-self-start mr-3 shadow" src="@imgSrc" alt="">
                                            <div class="media-body">
                                                <h5 class="mt-0 text-capitalize text-black">@item.TitleInEnglish</h5>
                                                <span class="Edate "><i class="fa fa-clock-o me-2 text-danger" aria-hidden="true"></i>@item.WhatsNewDate.ToString("dd-MM-yyyy")</span>
                                                <p class="mb-2">
                                                    @item.Description
                                                </p>
                                                <a target="_blank" class="download_link" href="@Url.Action("DownloadFile","whatsnew", new{id= @item.ID} )" aria-hidden="true"><i class="fa fa-file-pdf-o text-danger mx-2" aria-hidden="true"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                }

                            }
                        </div>
                        @*<table class="table table-bordered table-hover" >
                        <thead>
                        <tr>
                        <th>Sr. No.</th>
                        <th>Title</th>
                        <th>Date</th>
                        <th>Download</th>
                        </tr>
                        </thead>
                        <tbody>

                        @if (Model.Count() > 0)
                        {
                        int counter = 0;
                        @foreach (var item in Model)
                        {
                        counter++;

                        <tr>
                        <td>@counter</td>
                        <td>@item.TitleInEnglish</td>
                        <td class="text-nowrap">@item.WhatsNewDate.ToString( "dd-MM-yyyy")</td>
                        <td><a target="_blank" href="@Url.Action("DownloadFile","whatsnew", new{id= @item.ID} )" aria-hidden="true">@item.AttachmentTitleInEnglish<i class="fa fa-file-pdf-o text-danger mx-2" aria-hidden="true"></i>[size: @(item.AttachmentFileInEnglish?.Length/1024)KB]</a></td>
                        </tr>
                        }

                        }

                        </tbody>
                        </table>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

